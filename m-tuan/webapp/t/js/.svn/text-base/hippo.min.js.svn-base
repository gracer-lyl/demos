(function(m){function n(a,b){for(var d in b)a[d]=b[d];return a}function e(a){c._setPageId(a);return e}var i=window,h=i.document,k=h.location,o=h.referrer,j=i.screen,p=0,q=0,r=0,f={},u=function(){},s="http://hls."+(/51ping/.test(h.domain)?"51ping":"dianping")+".com/hippo.gif?",v=function(){var a=window.JSON&&JSON.stringify;return a?a:function(a){var d=[],l,c;for(l in a)c=a[l],Object(c)!==c&&d.push('"'+l+'":"'+(""+c).replace(/"/g,'\\"')+'"');return"{"+d.join(",")+"}"}}(),h=Array.prototype;if(!h.forEach)h.forEach=function(a,b){for(var d=0,c=this.length;d<c;d++)d in this&&a.call(b,this[d],d,this)};var t=function(){var a,b,d={};if(k&&k.href)d.__hlh=k.href;o&&(d.__hlr=o);if(j&&(a=j.height,b=j.width,a&&b&&(d.__hsr=b+"x"+a),a=j.colorDepth))d.__hsc=a+"bit";return function(a,b,c){c={__hlt:"m.dianping.com",__ppp:p,__had:v(c||{}),force:+new Date};b.push(r+"|"+q);c[a]=b.join("|");var a=n(c,d),b=encodeURIComponent,e,f=[];for(e in a)c=a[e],Object(c)!==c&&f.push(e+"="+b(c||""));return f.join("&")}}();n(e,{ext:function(a,b){var c;if(Object(a)===a)for(c in a)e.ext(c,a[c]);else typeof a==="string"&&Object(b)!==b&&(f[a]=b);return e},rxt:function(a){typeof a==="string"?delete f[a]:arguments.length||(f={});return e},pv:function(a,b){c._setCityId(a);c._setShopType(b);c._setPVInitData(f);f={};return e},mv:function(a,b){typeof a==="string"&&Object(b)!==b&&(f[a]=b,c.mv(f),f={});return e}});document.hippo=e;var g=i[m];g?g.push(["_setPVInitData"]):g=i[m]=[];var c={_setPageId:function(a){p=a>>>0},_setCityId:function(a){r=a>>>0},_setShopType:function(a){q=a>>>0},_setPVInitData:function(a){a=t("__pv",[],a);(new Image(1,1)).src=s+a},mv:function(a){a=t("__mv",["",""],a);(new Image(1,1)).src=s+a}};g.push=function(a){var b;a&&(b=a[0],a=a[1],(b=c[b])&&b(a))};["_setPageId","_setCityId","_setShopType","_setPVInitData"].forEach(function(a){var b=c[a];c[a]=function(){b.apply(this,arguments);c[a]=u}});g.forEach(function(a){g.push(a)});g.length=0;if(!(Math.random()>0.5))document.addEventListener("DOMContentLoaded",function(){},false),i.onload=onload})("_hip");